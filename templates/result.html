<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lookup Result</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&display=swap" rel="stylesheet"/>
  <style>
    body { font-family: 'Fira Code', monospace; background: #1a202c; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(5px);} to { opacity:1; transform: translateY(0);} }
    @keyframes glow { 0%,100%{ text-shadow: 0 0 2px rgba(76,161,175,0.4);} 50%{ text-shadow: 0 0 6px rgba(76,161,175,0.2);} }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .char { display: inline-block; opacity: 0; }
    .animate-glow { animation: glow 5s ease-in-out infinite; }
    .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
  </style>
</head>
<body class="bg-gray-900 text-gray-100 flex items-center justify-center min-h-screen">
  <div class="w-full max-w-md bg-gray-800 rounded-lg shadow-lg p-8 space-y-4">
    <h1 id="animated-heading" class="text-2xl font-semibold text-teal-400 text-center mb-4 animate-glow"></h1>

    {% if error %}
      <div class="bg-red-700 text-red-200 px-4 py-3 rounded animate-pulse text-center">
        {{ error }}
      </div>
    {% else %}
      {% if avatar_url %}
        <div class="flex justify-center mb-2">
          <img src="{{ avatar_url }}" alt="User Avatar" class="w-24 h-24 rounded-full border-2 border-teal-400 animate-fade-in"/>
        </div>
      {% endif %}

      {% if personaname or profile_created or location %}
        <div class="w-full bg-gray-700 text-gray-200 px-4 py-3 rounded flex flex-col space-y-1 animate-fade-in">
          {% if personaname %}<div><span class="font-medium">Name:</span> {{ personaname }}</div>{% endif %}
          {% if profile_created %}<div><span class="font-medium">Profile Created:</span> {{ profile_created }}</div>{% endif %}
          {% if location %}<div><span class="font-medium">Location:</span> {{ location }}</div>{% endif %}
        </div>
      {% endif %}

      <div class="w-full bg-green-800 text-green-200 px-4 py-3 rounded flex items-center justify-center space-x-2">
        <span class="font-medium">SteamID64:</span>
        <code id="steamid" class="bg-gray-700 px-2 py-1 rounded">{{ steamid64 }}</code>
        <button id="copy-btn" class="py-1 px-2 bg-gray-700 rounded hover:bg-gray-600 transition">üìã</button>
      </div>

      {% if full_url %}
        {% set parts = full_url.split('steamcommunity.com/') %}
        <div class="w-full bg-gray-700 text-gray-200 px-4 py-3 rounded flex items-start space-x-2 animate-fade-in">
          <span class="font-medium">URL:</span>
          <div class="flex-1 break-words">
            <a href="{{ full_url }}" target="_blank" class="text-teal-300 hover:underline">
              {{ parts[0] }}steamcommunity.com/<wbr>{{ parts[1] }}
            </a>
          </div>
        </div>
      {% endif %}
    {% endif %}

    <a href="/" class="block w-full text-center py-3 bg-teal-500 hover:bg-teal-600 rounded font-medium uppercase tracking-wide">
      New Lookup
    </a>
  </div>

  <footer class="absolute bottom-4 w-full text-center text-gray-500 text-sm">
    Made by @actevitus with ‚ù§Ô∏è ‚Äì {{ current_year }}
    <div class="mt-2 flex justify-center space-x-4">
      <a href="https://github.com/Actevitus" target="_blank" class="hover:text-gray-300" aria-label="GitHub">
        <!-- GitHub SVG -->
      </a>
      <a href="https://x.com/actevitus" target="_blank" class="hover:text-gray-300" aria-label="X">
        <!-- X SVG -->
      </a>
    </div>
  </footer>

  <script>
    ;(function(){
      const text = "SteamID64 Grabber";
      const container = document.getElementById("animated-heading");
      container.innerHTML = "";
      text.split("").forEach((ch,i) => {
        const span = document.createElement("span");
        span.textContent = ch;
        span.className = "char animate-glow";
        span.style.animation = `fadeInUp 0.5s ease forwards ${i*0.05}s`;
        container.appendChild(span);
      });
    })();

    document.getElementById('copy-btn')?.addEventListener('click', () => {
      const code = document.getElementById('steamid').textContent.trim();
      navigator.clipboard.writeText(code).then(() => {
        const btn = document.getElementById('copy-btn');
        btn.textContent = '‚úì';
        setTimeout(() => { btn.textContent = 'üìã'; }, 2000);
      });
    });
  </script>
</body>
</html>
